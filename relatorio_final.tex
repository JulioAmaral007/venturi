\documentclass[12pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[portuguese]{babel}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage{geometry}
\usepackage{hyperref}
\usepackage{float}
\usepackage{listings}
\usepackage{xcolor}

\geometry{
 a4paper,
 total={170mm,257mm},
 left=25mm,
 top=25mm,
}

\title{\textbf{Relatório Final: Simulador de Medidor de Venturi}}
\author{Engenharia de Computação -- Mecânica dos Fluidos}
\date{\today}

\begin{document}

\maketitle

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Descrição Geral do Sistema / Aplicação}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

O projeto consiste em um \textbf{Simulador Interativo de Medidor de Venturi}, desenvolvido como aplicação web para modelar, simular e analisar o escoamento interno de fluidos em um tubo de Venturi. A aplicação permite que o usuário configure a geometria do medidor, selecione o fluido de trabalho e ajuste as condições de escoamento, observando imediatamente o impacto sobre pressão, velocidade, perdas de carga e leitura manométrica.

Na prática, o sistema representa um \emph{medidor diferencial de pressão} utilizado para:
\begin{itemize}
    \item \textbf{Medição de vazão} em linhas de processo industriais;
    \item \textbf{Estudo de escoamentos internos} em dutos circulares;
    \item \textbf{Análise de perdas de carga permanentes} associadas ao uso de Venturi;
    \item \textbf{Demonstrações didáticas} dos princípios de Bernoulli, continuidade e manometria.
\end{itemize}

O Venturi simulado é um duto convergente--garganta--divergente. A aceleração do fluido na garganta provoca queda de pressão estática, medida por um manômetro em U, conectando as seções de entrada e garganta. O simulador implementa tanto o \textbf{modo ideal} (sem perdas de energia) quanto o \textbf{modo realista} (com perdas por atrito e perdas localizadas).

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Objetivo e Funcionalidades}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

O objetivo principal do trabalho é fornecer uma \textbf{ferramenta computacional} que traduza as equações da Mecânica dos Fluidos em uma simulação interativa de um medidor de Venturi, permitindo:
\begin{itemize}
    \item visualizar, de forma comparativa, o escoamento ideal e o escoamento real;
    \item relacionar diretamente teoria $\rightarrow$ equações $\rightarrow$ resultados numéricos e gráficos;
    \item apoiar a compreensão de conceitos como número de Reynolds, perdas de carga, fator de atrito e leitura manométrica.
\end{itemize}

\subsection{Funcionalidades Principais}

Com base no código-fonte do projeto (\texttt{app.py}, \texttt{app\_modules/simulator.py} e \texttt{app\_modules/plots.py}), as funcionalidades principais são:

\begin{itemize}
    \item \textbf{Simulação em dois modos}:
    \begin{itemize}
        \item \textbf{Modo Ideal}: aplica a equação de Bernoulli sem considerar perdas de energia (perdas de carga nulas, $h_L = 0$), de forma que $P_3 \approx P_1$ após a difusão.
        \item \textbf{Modo Realista}: inclui perdas localizadas na entrada e no difusor, além de perdas distribuídas por atrito na garganta, gerando uma perda de carga permanente $h_L > 0$.
    \end{itemize}

    \item \textbf{Configuração geométrica}:
    \begin{itemize}
        \item Diâmetro de entrada $D_1$ e diâmetro da garganta $D_2$;
        \item Comprimento da garganta $L_{\text{garganta}}$;
        \item Cálculo automático das áreas $A_1$ e $A_2$ e dos comprimentos das seções convergente e divergente, assumindo ângulo típico de difusor de $15^\circ$.
    \end{itemize}

    \item \textbf{Escolha do fluido e propriedades termofísicas}:
    \begin{itemize}
        \item Seleção de fluidos reais (água, ar, etanol, glicerina, óleo, etc.);
        \item Definição da temperatura e pressão de entrada;
        \item Cálculo automático de densidade $\rho$ e viscosidade dinâmica $\mu$ a partir de bancos de dados termodinâmicos.
    \end{itemize}

    \item \textbf{Condições de escoamento}:
    \begin{itemize}
        \item Entrada via vazão volumétrica $Q$;
        \item Ou definição de velocidade na entrada $v_1$;
        \item Ou definição de velocidade na garganta $v_2$;
        \item Conversão entre essas grandezas usando a equação da continuidade.
    \end{itemize}

    \item \textbf{Análise de escoamento}:
    \begin{itemize}
        \item Cálculo do número de Reynolds $Re$;
        \item Classificação automática do regime (laminar, transição, turbulento);
        \item Cálculo do fator de atrito de Darcy $f$ em função de $Re$ e da rugosidade relativa $\varepsilon/D$.
    \end{itemize}

    \item \textbf{Manometria}:
    \begin{itemize}
        \item Definição da densidade do fluido manométrico $\rho_m$;
        \item Cálculo do desnível $\Delta h$ no manômetro em U a partir de $\Delta P$.
    \end{itemize}

    \item \textbf{Visualizações e resultados}:
    \begin{itemize}
        \item Diagrama esquemático do Venturi com indicação de $P_1$, $P_2$, $P_2$ ao fim da garganta e $P_3$;
        \item Gráfico do perfil de pressão ao longo do medidor;
        \item Gráfico das linhas de energia (EGL) e linha piezométrica (HGL);
        \item Tabela de resultados numéricos com $Q$, $v_1$, $v_2$, $P_1$, $P_2$, $P_3$, $Re$, $h_L$ e $\Delta h$.
    \end{itemize}
\end{itemize}

\subsection{Fluxo de Uso do Usuário}

O fluxo de uso, tal como implementado em \texttt{app.py}, segue as etapas:
\begin{enumerate}
    \item \textbf{Escolha do modo de simulação} (\emph{Ideal} ou \emph{Realista});
    \item \textbf{Definição da geometria}: seleção de $D_1$, $D_2$ e $L_{\text{garganta}}$ via \emph{sliders};
    \item \textbf{Configuração do fluido}: escolha do fluido, definição da temperatura ($^\circ$C) e da pressão de entrada $P_1$ (manométrica), com cálculo automático de $\rho$ e $\mu$;
    \item \textbf{Definição do escoamento}: seleção de uma das três formas de entrada (vazão $Q$, velocidade $v_1$ ou velocidade $v_2$), com conversão imediata entre elas pela equação de continuidade;
    \item \textbf{(Modo Realista)}: escolha do material do tubo, de onde é obtida a rugosidade absoluta $\varepsilon$ para cálculo de $f$;
    \item \textbf{Execução da simulação}: criação de um objeto \texttt{VenturiSimulator} e chamada do método \texttt{calcular}, que processa todas as equações de mecânica dos fluidos;
    \item \textbf{Análise dos resultados}: leitura das métricas principais (vazão, velocidades, $\Delta h$) e exploração dos gráficos de geometria, perfil de pressão e linhas de energia.
\end{enumerate}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Como a Engenharia de Computação foi Utilizada}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

A Engenharia de Computação aparece no projeto como a ponte entre os modelos matemáticos contínuos da Mecânica dos Fluidos e uma aplicação interativa utilizável por estudantes e engenheiros.

\begin{itemize}
    \item \textbf{Modelagem computacional da física}: a física do problema é encapsulada na classe \texttt{VenturiSimulator} (arquivo \texttt{simulator.py}). Os atributos do objeto representam grandezas físicas (diâmetros, áreas, velocidades, pressões, perdas de carga), e os métodos implementam diretamente as equações estudadas em sala (continuidade, Bernoulli, Darcy--Weisbach, manometria).

    \item \textbf{Automação de cálculos}: o método \texttt{calcular} recebe os parâmetros de entrada (geometria, propriedades do fluido, vazão, fator de atrito) e, de forma determinística, executa todos os cálculos: áreas, velocidades, pressões $P_2$, $P_3$, perda de carga $h_L$, desnível manométrico $\Delta h$ e número de Reynolds.

    \item \textbf{Pré-processamento e pós-processamento}: em \texttt{app.py} são feitos:
    \begin{itemize}
        \item o \emph{pré-processamento}, convertendo entradas do usuário em grandezas físicas coerentes (por exemplo, convertendo velocidade escolhida em vazão $Q$);
        \item o \emph{pós-processamento}, organizando os resultados para exibição em métricas, tabelas e gráficos.
    \end{itemize}

    \item \textbf{Funções auxiliares de escoamento}: a função \texttt{calcular\_fator\_atrito} implementa o raciocínio de seleção de correlação para o fator de atrito:
    \begin{itemize}
        \item se $Re < 2300$, utiliza-se a expressão laminar $f = 64/Re$;
        \item caso contrário, utiliza-se a biblioteca \texttt{fluids} para resolver a equação de Colebrook--White numericamente, com \emph{fallback} para uma forma explícita aproximada.
    \end{itemize}

    \item \textbf{Visualização científica}: em \texttt{plots.py} são construídos, a partir dos dados do simulador, gráficos de:
    \begin{itemize}
        \item \textbf{Perfil de pressão} ao longo do eixo do tubo;
        \item \textbf{Linhas de energia e piezométrica}, decompondo a energia específica em pressão e cinética;
        \item \textbf{Diagrama geométrico} do Venturi, com representação do manômetro em U e das pressões $P_1$, $P_2$, $P_2$ ao fim da garganta e $P_3$.
    \end{itemize}
\end{itemize}

Assim, o foco não está em tecnologias específicas, mas em como o \textbf{pensamento computacional} estrutura o problema: definição clara de entradas, transformação em variáveis físicas, aplicação sistemática das equações e apresentação legível de resultados.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Conteúdo de Fluidos Aplicado no Projeto}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Nesta seção são relacionados os principais tópicos da disciplina com sua implementação direta no código.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Definição de fluido, formas de análise e propriedades}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\textbf{Conceito resumido}: um fluido é modelado como meio contínuo que sofre deformação contínua sob ação de tensões de cisalhamento. Para o problema do Venturi, o fluido é tratado como incompressível em regime permanente.

As propriedades principais para o escoamento interno em dutos são:
\begin{itemize}
    \item \textbf{Densidade} $\rho$ (kg/m$^3$): relaciona massa e volume e aparece em todos os termos de inércia e energia.
    \item \textbf{Viscosidade dinâmica} $\mu$ (Pa$\cdot$s): quantifica a resistência interna ao cisalhamento; determina o regime de escoamento via número de Reynolds.
\end{itemize}

\textbf{No projeto}: em \texttt{app.py}, as propriedades são obtidas dinamicamente das bibliotecas \texttt{thermo.Chemical} e \texttt{thermo.Mixture}:
\begin{itemize}
    \item para líquidos como água, etanol, glicerina e óleo: \texttt{fluido = Chemical(\dots)};
    \item para ar: \texttt{fluido = Mixture('air', T, P)}.
\end{itemize}
Em seguida:
\begin{verbatim}
rho = fluido.rho
mu  = fluido.mu
\end{verbatim}

O usuário escolhe temperatura (via \emph{slider}) e pressão de entrada, e o código respeita explicitamente a dependência $\rho(T,P)$ e $\mu(T,P)$, caracterizando o fluido real.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Forças hidrostáticas e empuxo (manometria)}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\textbf{Conceito resumido}: em um fluido em repouso, a variação de pressão com a profundidade está relacionada ao peso específico $\gamma = \rho g$. Em manômetros diferenciais em U, a diferença de pressão entre dois pontos de um escoamento se traduz em um desnível de coluna de fluido manométrico.

A equação manométrica empregada é:
\[
    \Delta P = P_1 - P_2 = (\rho_m - \rho)\, g\, \Delta h
\]
onde $\rho_m$ é a densidade do fluido manométrico, $\rho$ é a densidade do fluido em escoamento e $\Delta h$ o desnível entre colunas.

\textbf{No projeto}: no método \texttt{\_calcular\_desnivel\_de\_vazao} da classe \texttt{VenturiSimulator}, após calcular a diferença de pressão $\Delta P$ entre entrada e garganta:
\begin{verbatim}
self.delta_P = self.P1 - self.P2
self.delta_h = self.delta_P / ((self.rho_m - self.rho) * self.g)
\end{verbatim}

Assim, o simulador produz diretamente a leitura esperada do manômetro em unidades de comprimento (m ou cm), permitindo comparar teoria (equação manométrica) e prática (leitura simulada).

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Equações básicas na forma integral}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\textbf{Conservação de massa (Equação da Continuidade)}:

Para escoamento incompressível em regime permanente entre duas seções de um duto:
\[
    Q = A_1 V_1 = A_2 V_2
\]
onde $Q$ é a vazão volumétrica, $A$ a área da seção transversal e $V$ a velocidade média.

\textbf{No projeto}: em \texttt{VenturiSimulator.calcular}, após calcular as áreas
\[
    A_1 = \pi \left(\frac{D_1}{2}\right)^2,
    \quad
    A_2 = \pi \left(\frac{D_2}{2}\right)^2,
\]
o método \texttt{\_calcular\_desnivel\_de\_vazao} implementa:
\begin{verbatim}
self.v1 = self.Q / self.A1
self.v2 = self.Q / self.A2
\end{verbatim}

Ou seja, a continuidade é aplicada duas vezes:
\begin{itemize}
    \item na interface (\texttt{app.py}) para converter velocidade escolhida em vazão $Q$;
    \item no núcleo físico (\texttt{simulator.py}) para obter as velocidades $v_1$ e $v_2$ a partir de $Q$.
\end{itemize}

\textbf{Conservação de energia global}: será detalhada na subseção de Bernoulli, pois é justamente a equação estendida de energia que o projeto implementa para obter as pressões nas diferentes seções.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Equação de Euler e Equação de Bernoulli}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\textbf{Conceito resumido}: a equação de Euler descreve, em forma diferencial, o equilíbrio de forças em um fluido em escoamento sem viscosidade. Sua integração ao longo de uma linha de corrente leva à equação de Bernoulli:
\[
    \frac{P}{\rho g} + \frac{V^2}{2g} + z = \text{constante}
\]
Para escoamento entre as seções 1 (entrada) e 2 (garganta), em duto horizontal ($z_1 = z_2$) e fluido incompressível:
\[
    P_1 + \frac{1}{2}\rho V_1^2 = P_2 + \frac{1}{2}\rho V_2^2
\]

\textbf{No projeto (modo ideal)}: o código traduz esta relação diretamente na expressão para $P_2$. Em \texttt{\_calcular\_desnivel\_de\_vazao}:
\begin{verbatim}
self.P2 = self.P1 - 0.5 * self.rho * ((self.v2**2 * (1 + k_entrada)) - self.v1**2)
\end{verbatim}
No modo ideal, o coeficiente de perda de entrada é $k_{\text{entrada}} = 0$, de forma que:
\[
    P_2 = P_1 - \frac{1}{2}\rho\left(V_2^2 - V_1^2\right),
\]
que é exatamente a forma rearranjada da equação de Bernoulli entre 1 e 2.

\textbf{Extensão com perdas}: no modo realista ($k_{\text{entrada}} = 0{,}04$), o termo $(1 + k_{\text{entrada}})$ representa a inclusão de uma perda localizada na transição de diâmetro, associada a turbulências de entrada. A queda de pressão entre 1 e 2 passa a ser:
\[
    P_1 - P_2
    = \frac{1}{2}\rho\left[(1 + k_{\text{entrada}})V_2^2 - V_1^2\right],
\]
que corresponde à equação de Bernoulli \emph{estendida} com um termo de perda adicional $k_{\text{entrada}}V_2^2/(2g)$ em metros de coluna de fluido.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Escoamento em dutos}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\textbf{Conceito resumido}: o escoamento interno em dutos circulares está sujeito a perdas de carga distribuídas (devido ao atrito ao longo do comprimento) e perdas localizadas (devidas a singularidades geométricas como expansões, contrações, curvas e válvulas). Em termos de energia específica:
\[
    \frac{P_1}{\gamma} + \frac{V_1^2}{2g} + z_1
    =
    \frac{P_2}{\gamma} + \frac{V_2^2}{2g} + z_2
    + h_f + \sum h_s,
\]
onde $h_f$ é a perda distribuída (Darcy--Weisbach) e $h_s$ as perdas localizadas.

\paragraph{Número de Reynolds}
\[
    Re = \frac{\rho V D}{\mu}
\]
No projeto, o número de Reynolds é calculado em \texttt{VenturiSimulator.calcular\_reynolds}:
\begin{verbatim}
Re = (self.rho * self.v1 * self.D1) / self.mu
\end{verbatim}
e usado em \texttt{app.py} para classificar o regime e escolher a correlação de $f$ em \texttt{calcular\_fator\_atrito}.

\paragraph{Fator de atrito de Darcy}

No código, o fator de atrito é calculado pela função \texttt{calcular\_fator\_atrito}:
\begin{itemize}
    \item Se $Re < 2300$: regime laminar, utiliza-se:
    \[
        f = \frac{64}{Re}.
    \]
    \item Para $Re$ elevados: regime turbulento, é utilizada a função \texttt{friction\_factor} da biblioteca \texttt{fluids}, a qual resolve numericamente a equação de Colebrook--White em termos de $Re$ e rugosidade relativa $e/D$:
    \[
        \frac{1}{\sqrt{f}}
        =
        -2 \log_{10}
        \left(
            \frac{e/D}{3{,}7} + \frac{2{,}51}{Re \sqrt{f}}
        \right).
    \]
\end{itemize}

\paragraph{Perda distribuída na garganta}

No método \texttt{\_calcular\_perda\_carga\_garganta}, a perda distribuída na garganta é implementada pela equação de Darcy--Weisbach:
\[
    h_{f,\text{garganta}}
    =
    f\,\frac{L_{\text{garganta}}}{D_2}\,\frac{V_2^2}{2g}.
\]
O código correspondente é:
\begin{verbatim}
h_f_garganta = self.f * (self.L_garganta / self.D2) * (self.v2**2 / (2 * self.g))
\end{verbatim}
e a perda em pressão (Pa) é obtida por:
\begin{verbatim}
perda_garganta_Pa = h_f_garganta * self.rho * self.g
\end{verbatim}

\paragraph{Perdas localizadas}

No modo realista, duas perdas localizadas são consideradas explicitamente:
\begin{itemize}
    \item \textbf{Perda de entrada}, por mudança brusca na seção convergente, modelada via $k_{\text{entrada}} = 0{,}04$ no cálculo de $P_2$;
    \item \textbf{Perda no difusor}, modelada via um coeficiente $K_{\text{difusor}}$ obtido em \texttt{\_obter\_k\_difusor\_15\_graus}, que depende da razão de áreas
    \[
        AR = \left(\frac{D_1}{D_2}\right)^2.
    \]
    A implementação utiliza uma correlação empírica para o coeficiente de recuperação de pressão $c_p$ em difusores de $15^\circ$, limitando-o entre um valor realístico e o valor ideal, e define:
    \[
        K_{\text{difusor}} = c_{p,\text{ideal}} - c_{p,\text{real}}.
    \]
\end{itemize}

No balanço final de energia em \texttt{\_calcular\_desnivel\_de\_vazao}, a perda de carga total é obtida por:
\begin{verbatim}
perda_total_Pa = perda_entrada_Pa + perda_garganta_Pa + perda_difusor_Pa
self.h_L = perda_total_Pa / (self.rho * self.g)
\end{verbatim}
e, consequentemente, $P_3$ é menor do que $P_1$, representando a \textbf{perda de carga permanente} do medidor de Venturi em modo realista.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Funcionamento Técnico do Projeto}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

O funcionamento interno do simulador pode ser descrito em quatro etapas principais.

\subsection{Etapa 1: Geometria e Áreas}

O método \texttt{calcular} recebe os parâmetros geométricos $D_1$, $D_2$ e $L_{\text{garganta}}$ e calcula:
\[
    A_1 = \pi \left(\frac{D_1}{2}\right)^2,\quad
    A_2 = \pi \left(\frac{D_2}{2}\right)^2.
\]
Em seguida, o método \texttt{\_calcular\_geometria\_automatica} assume um ângulo típico de difusor de $15^\circ$ e determina os comprimentos de entrada e saída, de forma que:
\[
    L = L_{\text{entrada}} + L_{\text{garganta}} + L_{\text{saída}}.
\]

\subsection{Etapa 2: Cinemática -- Vazão e Velocidades}

Com a vazão volumétrica $Q$ conhecida (diretamente ou indiretamente), as velocidades médias são:
\[
    V_1 = \frac{Q}{A_1},\quad
    V_2 = \frac{Q}{A_2},
\]
implementadas em:
\begin{verbatim}
self.v1 = self.Q / self.A1
self.v2 = self.Q / self.A2
\end{verbatim}

O número de Reynolds é calculado com base em $V_1$, densidade e viscosidade:
\[
    Re = \frac{\rho V_1 D_1}{\mu}.
\]

\subsection{Etapa 3: Dinâmica -- Pressões e Perdas de Carga}

Com $V_1$ e $V_2$ calculados, o simulador determina a pressão na garganta $P_2$ a partir de Bernoulli (com ou sem termo de perda de entrada):
\begin{verbatim}
self.P2 = self.P1 - 0.5 * self.rho * ((self.v2**2 * (1 + k_entrada)) - self.v1**2)
\end{verbatim}

No modo ideal, considera-se que não há mais perdas:
\begin{itemize}
    \item $h_L = 0$;
    \item $P_3 = P_1$ (recuperação total de pressão no difusor).
\end{itemize}

No modo realista, o cálculo segue:
\begin{enumerate}
    \item cálculo da perda distribuída na garganta $h_{f,\text{garganta}}$ via Darcy--Weisbach;
    \item conversão em perda de pressão $ \Delta P_{\text{garganta}} = \rho g h_{f,\text{garganta}}$ e obtenção de $P_{2,\text{fim}}$;
    \item cálculo da \textbf{recuperação dinâmica} no difusor, associada à redução de velocidade de $V_2$ para $V_1$;
    \item cálculo da perda no difusor via $K_{\text{difusor}}$;
    \item obtenção da pressão de saída $P_3$ considerando recuperação menos perdas.
\end{enumerate}

Em notação de código, essa etapa está sintetizada em:
\begin{verbatim}
recuperacao_dinamica = 0.5 * self.rho * (self.v2**2 - self.v1**2)
K_difusor = self._obter_k_difusor_15_graus()
perda_difusor_Pa = K_difusor * (0.5 * self.rho * self.v2**2)
self.P3 = self.P2_fim + recuperacao_dinamica - perda_difusor_Pa
\end{verbatim}
e a perda de carga total resulta de:
\begin{verbatim}
perda_total_Pa = perda_entrada_Pa + perda_garganta_Pa + perda_difusor_Pa
self.h_L = perda_total_Pa / (self.rho * self.g)
\end{verbatim}

\subsection{Etapa 4: Manometria e Geração de Gráficos}

Com $\Delta P = P_1 - P_2$ conhecido, o simulador converte diferença de pressão em desnível $\Delta h$ do manômetro:
\[
    \Delta h = \frac{\Delta P}{(\rho_m - \rho)g}.
\]
Esses resultados ($P_1$, $P_2$, $P_{2,\text{fim}}$, $P_3$, $V_1$, $V_2$, $h_L$, $\Delta h$) são então utilizados pelos módulos de plotagem para gerar:
\begin{itemize}
    \item o diagrama geométrico do Venturi com representação do manômetro em U;
    \item o perfil de pressão $P(x)$ ao longo do medidor;
    \item as linhas de energia e piezométrica.
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Exemplos e Demonstrações Práticas}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

A seguir são descritos cenários típicos diretamente suportados pelo código e pela interface.

\subsection{Exemplo 1: Água a 20$^\circ$C em Modo Ideal}

\textbf{Entradas}:
\begin{itemize}
    \item Fluido: água ($T = 20^\circ$C, $\rho \approx 998$ kg/m$^3$, $\mu \approx 1{,}0\times10^{-3}$ Pa$\cdot$s);
    \item Geometria: $D_1 = 0{,}10$ m, $D_2 = 0{,}05$ m, $L_{\text{garganta}} = 1{,}0$ m;
    \item Condição de escoamento: $Q = 0{,}01$ m$^3$/s;
    \item Modo: Ideal.
\end{itemize}

\textbf{Resultados típicos} (compatíveis com o código):
\begin{itemize}
    \item Velocidades: $V_1 \approx 1{,}27$ m/s e $V_2 \approx 5{,}09$ m/s;
    \item Queda de pressão teórica entre 1 e 2 dada por Bernoulli;
    \item $P_3 \approx P_1$ (recuperação ideal de pressão);
    \item $\Delta h$ no manômetro calculado apenas a partir da diferença $P_1 - P_2$.
\end{itemize}

\textbf{Interpretação física}: o fluido acelera na garganta (a velocidade aumenta aproximadamente 4 vezes), e a pressão estática cai de acordo com o aumento da energia cinética. Como as perdas de carga são desprezadas, toda a pressão é recuperada após o difusor.

No gráfico de perfil de pressão, isso aparece como:
\begin{itemize}
    \item queda de pressão até a garganta;
    \item retorno da pressão ao valor inicial na saída.
\end{itemize}

\subsection{Exemplo 2: Água a 20$^\circ$C em Modo Realista}

Mantendo o mesmo cenário, mas com \textbf{modo Realista} e definindo o material do tubo (por exemplo, aço comercial), o simulador:
\begin{itemize}
    \item calcula o número de Reynolds;
    \item gera o fator de atrito $f$ a partir de $Re$ e da rugosidade relativa;
    \item aplica a equação de Darcy--Weisbach na garganta;
    \item adiciona perdas na entrada ($k_{\text{entrada}} = 0{,}04$) e no difusor ($K_{\text{difusor}}$ via correlação).
\end{itemize}

Nessa condição:
\begin{itemize}
    \item a queda de pressão total $P_1 - P_3$ é maior que no caso ideal;
    \item o gráfico de perfil de pressão mostra que a linha de $P_3$ fica abaixo de $P_1$;
    \item o gráfico de linhas de energia evidencia uma redução da energia total ao longo do escoamento (área sombreada como perda).
\end{itemize}

\textbf{Interpretação física}: o sistema demonstra como a viscosidade e as rugosidades reais convertem parte da energia mecânica em calor, resultando em perda de carga permanente no Venturi.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Limitações e Possíveis Extensões}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Embora o simulador implemente de forma consistente os conceitos principais de Mecânica dos Fluidos para escoamento interno em Venturi, algumas simplificações são assumidas:
\begin{itemize}
    \item Escoamento unidimensional, com velocidades médias uniformes em cada seção;
    \item Fluido tratado como incompressível, mesmo para gases em certas faixas de pressão;
    \item Curvas empíricas para o difusor são válidas para um intervalo de geometrias (ângulo fixo de $15^\circ$);
    \item Não há modelagem explícita de cavitação (embora o usuário possa identificar pressões muito baixas via $P_2$).
\end{itemize}

Como trabalhos futuros, o projeto poderia ser estendido para:
\begin{itemize}
    \item incluir compressibilidade em altas velocidades (número de Mach relevante);
    \item modelar outros medidores diferenciais (placa de orifício, bocal);
    \item integrar rotinas de calibração experimental, comparando dados de laboratório com o simulador;
    \item adicionar análise de incertezas nas medições.
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Conclusão}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

O \textbf{Simulador Interativo de Medidor de Venturi} integra, de forma direta, os conceitos de Mecânica dos Fluidos com a prática da Engenharia de Computação. A partir de um conjunto de entradas físicas, o sistema aplica automaticamente as equações de continuidade, Bernoulli estendida, Darcy--Weisbach, manometria e correlações para fator de atrito, produzindo resultados numéricos e gráficos que representam o comportamento realista do escoamento.

Do ponto de vista didático, o projeto permite:
\begin{itemize}
    \item visualizar o impacto da razão $\beta = D_2/D_1$ na sensibilidade do medidor;
    \item compreender como o número de Reynolds influencia o cálculo de $f$ e as perdas de carga;
    \item relacionar a queda de pressão à leitura de um manômetro em U;
    \item comparar diretamente cenários ideais e reais.
\end{itemize}

Do ponto de vista da Engenharia de Computação, o trabalho mostra como um modelo físico pode ser encapsulado em estruturas de dados e algoritmos claros, resultando em uma ferramenta interativa que aproxima teoria e prática no estudo de escoamentos em dutos.

\end{document}
